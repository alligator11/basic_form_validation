<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validation</title>
    <link rel="stylesheet" href="styles_exp3(4).css">
</head>
<body>
    <div class="container">
        <form>
            <h2>Sign Up</h2>
            <label>Username</label><br>
            <input type="text" placeholder="Stella123" class="input" id="uname">
            <p id="uerr"></p><br>
            <label>Email</label><br>
            <input type="email" placeholder="hello@example.com" class="input" id="email">
            <p id="eerr"></p><br>
            <label>Password</label><br>
            <input type="password" placeholder="Enter your password" class="input" id="pass">
            <p id="perr"></p><br>
            <label>Confirm Password</label><br>
            <input type="password"  placeholder="Re-enter your password" class="input" id="cpass">
            <p id="cperr"></p><br><br>
            <input type="button" onclick="validateform()" value="Submit" class="submit">
        </form>
    </div>
    <script>
        var username=document.getElementById("uname");
        var email=document.getElementById("email");
        var password=document.getElementById("pass");
        var cpassword=document.getElementById("cpass");

        function isValid(password){
            var hasLowerCase = false; 
            var hasUpperCase = false; 
            var hasNumber = false; 
            var hasSpecialChar = false; 
            var specialChars = "!@#$%^&*"; 
            
            for (let i = 0; i < password.length; i++) { 
                var char = password.charAt(i); 
                if (char >= "a" && char <= "z") 
                    hasLowerCase = true; 
                else if (char >= "A" && char <= "Z") 
                    hasUpperCase = true; 
                else if (char >= "0" && char <= "9") 
                    hasNumber = true; 
                else if (specialChars.indexOf(char) >= 0) 
                    hasSpecialChar = true;  

                if (hasLowerCase && hasUpperCase && hasNumber && hasSpecialChar) 
                    return true;
            } 
            return false;
        }

        function validateform() {
            var usernameValue=username.value.trim();
            var emailValue=email.value.trim();
            var passwordValue=password.value;
            var cpasswordValue=cpassword.value;
                
            if(usernameValue.length>25 || usernameValue.length<1){
                document.getElementById("uerr").innerHTML="Username must be between 1 and 25 characters.";
                username.style.border="2px inset crimson";}
            else{
                username.style.border="2px inset greenyellow";
                document.getElementById("uerr").innerHTML="";}

            if(emailValue.length<1){
                email.style.border="2px inset crimson";
                document.getElementById("eerr").innerHTML="Enter email.";}
            else{
                email.style.border="2px inset greenyellow";
                document.getElementById("eerr").innerHTML="";}

            if(passwordValue.length<8 || isValid(passwordValue)){
                document.getElementById("perr").innerHTML="Password must have atleast 8 characters that include atleast 1 lowercase character, 1 uppercase character, 1 number and 1 special character in (!@#$%^&*).";
                password.style.border="2px inset crimson";}
            else{
                password.style.border="2px inset greenyellow";
                document.getElementById("perr").innerHTML="";}

            if(cpasswordValue.length<1 || passwordValue!==cpasswordValue){
                document.getElementById("cperr").innerHTML="Please enter the password again.";
                cpassword.style.border="2px inset crimson";}
            else{
                cpassword.style.border="2px inset greenyellow";
                document.getElementById("cperr").innerHTML="";}
        }
    </script>
</body>
</html>